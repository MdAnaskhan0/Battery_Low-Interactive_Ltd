"use strict";var J=Object.create;var D=Object.defineProperty,Q=Object.defineProperties,U=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols,Z=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var k=(e,t,o)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))V.call(t,o)&&k(e,o,t[o]);if(T)for(var o of T(t))L.call(t,o)&&k(e,o,t[o]);return e},v=(e,t)=>Q(e,X(t));var S=(e,t)=>{var o={};for(var n in e)V.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&T)for(var n of T(e))t.indexOf(n)<0&&L.call(e,n)&&(o[n]=e[n]);return o};var _=(e,t)=>{for(var o in t)D(e,o,{get:t[o],enumerable:!0})},H=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let d of Y(t))!V.call(e,d)&&d!==o&&D(e,d,{get:()=>t[d],enumerable:!(n=U(t,d))||n.enumerable});return e};var $=(e,t,o)=>(o=e!=null?J(Z(e)):{},H(t||!e||!e.__esModule?D(o,"default",{value:e,enumerable:!0}):o,e)),ee=e=>H(D({},"__esModule",{value:!0}),e);var re={};_(re,{Accordion:()=>W,AccordionButton:()=>q,AccordionItem:()=>j,AccordionPanel:()=>z,AccordionStates:()=>K,useAccordionContext:()=>ne,useAccordionItemContext:()=>ae});module.exports=ee(re);var a=$(require("react")),r=require("@reach/utils"),l=require("@reach/descendants"),F=require("@reach/auto-id"),M=(0,l.createDescendantContext)("AccordionDescendantContext"),[te,E]=(0,r.createContext)("Accordion"),[oe,O]=(0,r.createContext)("AccordionItem"),K=(o=>(o.Open="OPEN",o.Collapsed="COLLAPSED",o))(K||{}),W=a.forwardRef(function(C,p){var R=C,{as:t="div",children:o,defaultIndex:n,index:d,onChange:w,readOnly:f=!1,collapsible:u=!1,multiple:s=!1}=R,m=S(R,["as","children","defaultIndex","index","onChange","readOnly","collapsible","multiple"]);let[h,x]=(0,r.useControlledState)({controlledValue:d,defaultValue:()=>{var c;return n!=null?s?Array.isArray(n)?n:[n]:Array.isArray(n)?(c=n[0])!=null?c:0:n:u?s?[]:-1:s?[0]:0},calledFrom:"Tabs"}),[P,A]=(0,l.useDescendantsInit)(),b=(0,F.useId)(m.id),g=a.useCallback(c=>{w&&w(c),x(i=>{if(c=c,s)if(i=i,i.includes(c)){if(i.length>1||u)return i.filter(B=>B!==c)}else return[...i,c].sort();else return i=i,i===c&&u?-1:c;return i})},[u,s,w,x]);return a.createElement(l.DescendantProvider,{context:M,items:P,set:A},a.createElement(te,{accordionId:b,openPanels:h,onSelectPanel:f?r.noop:g,readOnly:f},a.createElement(t,v(y({},m),{ref:p,"data-reach-accordion":""}),o)))});W.displayName="Accordion";var j=a.forwardRef(function(u,f){var s=u,{as:t="div",children:o,disabled:n=!1,index:d}=s,w=S(s,["as","children","disabled","index"]);let{accordionId:m,openPanels:p,readOnly:C}=E("AccordionItem"),R=a.useRef(null),[h,x]=(0,r.useStatefulRefValue)(R,null),P=a.useMemo(()=>({element:h,disabled:n}),[n,h]),A=(0,l.useDescendant)(P,M,d),b=(0,r.makeId)(m,A),g=(0,r.makeId)("panel",b),c=(0,r.makeId)("button",b),i=(Array.isArray(p)?p.includes(A)&&"OPEN":p===A&&"OPEN")||"COLLAPSED";return a.createElement(oe,y({},{buttonId:c,buttonRef:R,disabled:n,handleButtonRefSet:x,index:A,itemId:b,panelId:g,state:i}),a.createElement(t,v(y({},w),{ref:f,"data-reach-accordion-item":"","data-state":N(i),"data-disabled":n?"":void 0,"data-read-only":C?"":void 0}),o))});j.displayName="AccordionItem";var q=a.forwardRef(function(p,m){var C=p,{as:t="button",children:o,onClick:n,onKeyDown:d,onMouseDown:w,onPointerDown:f,tabIndex:u}=C,s=S(C,["as","children","onClick","onKeyDown","onMouseDown","onPointerDown","tabIndex"]);let{onSelectPanel:R}=E("AccordionButton"),{disabled:h,buttonId:x,buttonRef:P,handleButtonRefSet:A,index:b,panelId:g,state:c}=O("AccordionButton"),i=(0,r.useComposedRefs)(m,A);function B(I){I.preventDefault(),!h&&(P.current.focus(),R(b))}let G=(0,l.useDescendantKeyDown)(M,{currentIndex:b,orientation:"vertical",key:"element",rotate:!0,callback(I){I==null||I.focus()},filter:I=>!I.disabled});return a.createElement(t,v(y({"aria-controls":g,"aria-expanded":c==="OPEN",tabIndex:h?-1:u},s),{ref:i,"data-reach-accordion-button":"","data-state":N(c),disabled:h||void 0,id:x,onClick:(0,r.composeEventHandlers)(n,B),onKeyDown:(0,r.composeEventHandlers)(d,G)}),o)});q.displayName="AccordionButton";var z=a.forwardRef(function(w,d){var f=w,{as:t="div",children:o}=f,n=S(f,["as","children"]);let{disabled:u,panelId:s,buttonId:m,state:p}=O("AccordionPanel");return a.createElement(t,v(y({hidden:p!=="OPEN",role:"region","aria-labelledby":m},n),{ref:d,"data-reach-accordion-panel":"","data-disabled":u||void 0,"data-state":N(p),id:s}),o)});z.displayName="AccordionPanel";function ne(){let{openPanels:e,accordionId:t}=E("useAccordionContext");return a.useMemo(()=>({id:t,openPanels:[].concat(e).filter(n=>n>=0)}),[t,e])}function ae(){let{index:e,state:t}=O("useAccordionItemContext");return a.useMemo(()=>({index:e,isExpanded:t==="OPEN"}),[e,t])}function N(e){return e==="OPEN"?"open":"collapsed"}0&&(module.exports={Accordion,AccordionButton,AccordionItem,AccordionPanel,AccordionStates,useAccordionContext,useAccordionItemContext});
